<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hunt-Brute - Jeu de RPG</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <h1>Hunt-Brute</h1>
        
        <div id="character-creation" class="game-area">
            <h2>Création de Personnage</h2>
            <input type="text" id="hero-name" placeholder="Nom du héros">
            <button id="create-character">Créer le personnage</button>
        </div>

        <div id="main-menu" class="game-area" style="display: none;">
            <button id="start-adventure">Commencer l'aventure</button>
            <button id="start-donjon">Entrer dans le donjon</button>
            <button id="open-multiplayer">Mode multijoueur</button>
            <button id="open-inventory">Inventaire</button>
            <button id="open-shop">Boutique</button>
            <button id="manage-companions">Gérer les compagnons</button>
            <button id="open-guilds">Guildes</button>
            <button id="open-crafting">Artisanat</button>
            <button id="save-game">Sauvegarder</button>
            <button id="load-game">Charger</button>
        </div>

        <div id="player-info">
            <h3>Informations du joueur</h3>
            <p>Nom: <span id="player-name"></span></p>
            <p>Niveau: <span id="player-level"></span></p>
            <p>PV: <span id="player-hp"></span>/<span id="player-max-hp"></span></p>
            <p>Attaque: <span id="player-attack"></span></p>
            <p>Défense: <span id="player-defense"></span></p>
            <p>Or: <span id="player-gold"></span></p>
            <div class="experience-bar">
                <div class="experience-fill"></div>
            </div>
            <p>Expérience: <span id="player-exp"></span>/<span id="player-next-level-exp"></span></p>
        </div>

        <div id="game-messages"></div>

        <div id="mission-area" class="game-area" style="display: none;">
            <h2>Missions disponibles</h2>
            <!-- Les missions seront ajoutées dynamiquement ici -->
        </div>

        <div id="battle-area" class="game-area" style="display: none;">
            <h2>Combat</h2>
            <div id="player-combat-info"></div>
            <div id="enemy-combat-info"></div>
            <div id="companion-combat-info"></div>
            <button id="attack-button">Attaque</button>
            <button id="defend-button">Défense</button>
            <button id="special-button">Attaque Spéciale</button>
            <div id="battle-log"></div>
        </div>

        <div id="inventory-area" class="game-area" style="display: none;">
            <h2>Inventaire</h2>
            <div id="inventory-items"></div>
            <div id="equipped-items"></div>
        </div>

        <div id="shop-area" class="game-area" style="display: none;">
            <h2>Boutique</h2>
            <div id="shop-items"></div>
        </div>

        <div id="companions-area" class="game-area" style="display: none;">
            <h2>Gestion des Compagnons</h2>
            <!-- Les compagnons seront ajoutés dynamiquement ici -->
        </div>

        <div id="guild-area" class="game-area" style="display: none;">
            <h2>Guildes</h2>
            <!-- Les informations sur les guildes seront ajoutées dynamiquement ici -->
        </div>

        <div id="crafting-area" class="game-area" style="display: none;">
            <h2>Artisanat</h2>
            <!-- Les recettes d'artisanat seront ajoutées dynamiquement ici -->
        </div>

        <div id="multiplayer-area" class="game-area" style="display: none;">
            <h2>Mode Multijoueur</h2>
            <input type="text" id="room-id" placeholder="ID de la salle">
            <button id="join-room">Rejoindre la salle</button>
            <div id="players-list"></div>
            <div id="chat-messages"></div>
            <input type="text" id="chat-input" placeholder="Votre message">
            <button id="send-message">Envoyer</button>
            <button id="challenge-player">Défier un joueur</button>
            <button id="trade-request">Demander un échange</button>
        </div>

        <div id="trade-area" class="game-area" style="display: none;">
            <h2>Échange</h2>
            <div id="trade-inventory"></div>
            <div id="offered-items"></div>
            <button id="confirm-trade">Confirmer l'échange</button>
            <button id="cancel-trade">Annuler l'échange</button>
        </div>

        <div id="donjon-area" class="game-area" style="display: none;">
            <h2>Donjon</h2>
            <div id="donjon-event"></div>
            <button id="next-donjon-event">Continuer</button>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script type="module">
        import { initializeGame } from './game.js';
        
        document.addEventListener('DOMContentLoaded', () => {
            initializeGame();
            
            // Gestionnaires d'événements pour les boutons
            document.getElementById('create-character').addEventListener('click', () => window.gameActions.createCharacter());
            document.getElementById('start-adventure').addEventListener('click', () => window.gameActions.startAdventure());
            document.getElementById('start-donjon').addEventListener('click', () => window.gameActions.startDonjon());
            document.getElementById('open-multiplayer').addEventListener('click', () => window.gameActions.openMultiplayer());
            document.getElementById('open-inventory').addEventListener('click', () => window.gameActions.openInventory());
            document.getElementById('open-shop').addEventListener('click', () => window.gameActions.openShop());
            document.getElementById('manage-companions').addEventListener('click', () => window.gameActions.manageCompanions());
            document.getElementById('open-guilds').addEventListener('click', () => window.gameActions.openGuilds());
            document.getElementById('open-crafting').addEventListener('click', () => window.gameActions.openCrafting());
            document.getElementById('save-game').addEventListener('click', () => window.gameActions.saveGame());
            document.getElementById('load-game').addEventListener('click', () => window.gameActions.loadGame());
            document.getElementById('attack-button').addEventListener('click', () => window.gameActions.playerAttack());
            document.getElementById('defend-button').addEventListener('click', () => window.gameActions.playerDefend());
            document.getElementById('special-button').addEventListener('click', () => window.gameActions.playerUseSpecial());
            document.getElementById('join-room').addEventListener('click', () => window.gameActions.joinRoom());
            document.getElementById('send-message').addEventListener('click', () => window.gameActions.sendChatMessage());
            document.getElementById('challenge-player').addEventListener('click', () => window.gameActions.initiateChallenge());
            document.getElementById('trade-request').addEventListener('click', () => window.gameActions.initiateTradeRequest());
            document.getElementById('confirm-trade').addEventListener('click', () => window.gameActions.confirmTrade());
            document.getElementById('cancel-trade').addEventListener('click', () => window.gameActions.cancelTrade());
            document.getElementById('next-donjon-event').addEventListener('click', () => window.gameActions.nextDonjonEvent());
        });
    </script>
</body>
</html>
